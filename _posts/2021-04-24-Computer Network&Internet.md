---
toc : true
title : "Computer Network & Internet"
category : 
    - 컴퓨터네트워크
---
### 네트워크란?
네트워크란 Net + Work의 합성어로써 두대 이상의 컴퓨터들을 연결하고 서로 통신하며 자원을 공유하는것을 말합니다.

컴퓨터, 스마트폰, 데이터 송수신 장치등과 같은 노드들은 `네트워크`란 전송매체를 링크로 서로 연결되어 있으며 링크를 통해 서로 간의 회선과 패킷을 교환하여 데이터 통신을 하게 됩니다.

`IEEE`에서는 네트워크를 "몇개의 독립적인 장치가 적절한 영역 내에서 적당히 빠른 속도의 물리적 통신 체널을 통하여 서로가 직접 통신할 수 있도록 지원해주는 데이터 통신 체계" 라고 정의하고 있습니다.

### 네트워크의 종류

![point to point network](/assets/images/ComputerNetwork/Network-type.png)

- PAN$($Personal Area Network) : 가장 작은 규모의 네트워크, 개인 네트워크
- LAN(Local Area Network) : 근거리 영역 네트워크
- MAN(Metropolitan Area Network) : 대도시 영역 네트워크
- WAN$($Wide Area Network) : 광대역 네트워크. 주로 ISP$($Internet Service Provider)에 의해 제공. ISP = KT, SKT... 

### 스위칭
![point to point network](/assets/images/ComputerNetwork/point_to_point.jpeg)

point to point 방식의 경우 모든 단말들 간의 연결을 해야하기 때문에 비용이 많이든다는 단점이 있습니다.  따라서 **라우터**(스위치)에 단말들을 연결하여 교환망을 구성합니다. 라우터를 지역 마다 설치하고 연결하여  넓은 지역을 커버할 수 있습니다.

> **라우터** : 패킷 교환기. 수신처가 연결되어 있는 회선을 골라서 패킷을 송출한다. 사용하려고 한 회선이 사용중일 경우 버퍼에 임시 저장했다가 회선이 비면 전송한다.

스위칭 방식에는 **회선 교환 방식**과 **패킷 교환 방식**이 존재합니다.

**1. 회선 교환망**
회선교환망에서는 두개의 단말 사이에 구리같은 물리 선로가 연결되어 통신을 하며 통신을 하는 동안에는 두 단말 만이 이 물리 선로를 전유해서 사용합니다. 두 단말이 통신할때 사용하는 전유의 선로를 회선이라고 합니다. 

![회선교환망](/assets/images/ComputerNetwork/회선교환망.png)

회선교환망의 예) 전화망 : 
**절차**
1. *설정 단계*
	전화 걸때의 신호음 = 두 단말이 전용해서 사용할 회선을 할당한다.
	통화중 = 사용할 수 있는 별도의 회선이 존재하지 않을 때
	이 과정은 신호 프로토콜에 의해 이루어진다.

2. *전송 단계*
	전화망의 경우 통화가 이루어진다.

3. *해제 단계*
	통화가 종료되면 할당된 회선을 해제하여 다른 사용자가 회선을 사용 할 수 있도록 한다.

컴퓨터 혹은 데이터의 전송과정에서는 회선 교환망이 아닌 패킷 교환망을 사용한다. 회선 교환망과 달리 물리 선로는 다른 단말들과 공유하여 사용한다. 

**2. 패킷 교환망**
패킷 교환망에서 데이터를 전송 할 때는 큰 데이터를 여러 조각으로 나누어 전송하며 이 조각을 패킷이라고 합니다. `패킷`이란 컴퓨터간의 데이터를 주고 받을 때 네트워크를 통해 흘러가는 작은 데이터 조각을 말합니다. 큰 데이터는 대역폭을 고려하여 작은 패킷으로 분할되어 빠르고 효율적으로 전송됩니다. 

`패킷 교환`은 큰 하나의 데이터를 여러개의 패킷으로 분할하여 송신하는 것을 말하며 회선이 점유되지 않기 때문에 다수의 컴퓨터가 동시에 사용 가능하다는 장점이 있습니다. 단 도착하는 시간이 불규칙할 수 있으며 패킷마다 따로따로 송신하기 때문에 송신한 순서대로 수신처에 도달하는 것을 보장할 수 없습니다.

패킷 교환 방식은 데이터 전송 전에 두 단말 사이에 경로를 미리 설정하는지 여부에 따라 데이터그램 방식과 가상 회선 교환 방식으로 구분됩니다.

- **데이터그램 방식**
두 단말 시이에 데이터가 전송되는 경로를 미리 정하지 않습니다. 대신 패킷을 보낼때 패킷마다 목적지 주소를 주어 다음 경로의 노드를 결정하게 됩니다. 따라서 패킷들이 서로 다른 경로를 통해서 전달될 수 있으며 송신했던 순서대로 전달되지 않을 수 있습니다. `인터넷`이 데이터그램 방식을 사용하는 대표적 예라고 할 수 있습니다.

![datagram](/assets/images/ComputerNetwork/datagram.jpeg)

아래는 데이터그램에서 패킷들이 경로를 결정하는 과정을 보여주는 그림입니다.

<center><img src = "/assets/images/ComputerNetwork/datagrampath.png" width = "200" height = "300"></center>

라우터가 1~4번의 포트를 갖고있을때 목적지가 4150인 패킷은 2번 포트로 보내지게 된다는 것을 의미합니다.

이와 같은 방식으로 패킷 단위로 경로를 결정하여 목적지까지 가게됩니다.

- **가상 회선 교환**
패킷(데이터) 전송 전에 두 단말 사이에 경로를 미리 정하고 패킷을 전송하는 방식입니다. 따라서 설정 단계가 필요하며 이때 미리 정해진 경로를 `가상 회선`이라고 합니다. 

패킷들은 고유의 가상 회선 번호를 갖꼬 있으며 교환기는 설정 과정에서 할당한 가상회선 번호에 따라서 패킷을 다음 노드로 전달하게 됩니다. 이로인해 패킷들은 송신했던 순서대로 전달되게 됩니다.

### 패킷 지연과 손실
![packet_loss&delay](/assets/images/ComputerNetwork/packet_loss.jpeg)

여러 노드$($컴퓨터)에서 전송된 패킷들은 라우터의 버퍼에 큐잉$($queueing)됩니다. 패킷은 큐에서 자기 차례를 기다리며 $($지연) 패킷 도착률이 출력 링크 용량을 일시적으로 넘어서 패킷이 도착했을 때 버퍼(queue)에 빈공간이 없다면 해당 패킷은 버려지게 됩니다. $($손실) 

이때 손실된 패킷은 직전 노드나 송신측 종단 시스템에서 재전송될 수도 있고, 그렇지 않을 수도 있습니다.

이러한 패킷의 지연이 발생하기 때문에 패킷이 라우터에 도착해서 대기하는 시간을 예측할 수 없게 됩니다. 반면 회선 교환의 경우 예측한 시간 안에 데이터들이 목적지에 도착할 수 있습니다. 

회선 교환은 자기가 달리는 선로가 정해져 있고 도착시간을 예측할 수 있는 기차에 비유할 수 있고 

패킷 교환은 도로를 공유하며 교통 체증에 따라 도착시간을 예측할 수 없는 자동차에 비유할 수 있습니다.