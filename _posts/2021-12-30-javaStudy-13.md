---
toc: true
title: "[Java ê¸°ì´ˆ] ì œë„¤ë¦­ - Generics"
category:
  - Java
---

ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ìë°”ì˜ ì œë„¤ë¦­ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ë‹¤. ğŸ‘¨â€ğŸ«

## ğŸ“‹ ëª©ì°¨
- ì œë„¤ë¦­ ì‚¬ìš©ë²•
- ì œë„¤ë¦­ ì£¼ìš” ê°œë… $($ë°”ìš´ë””ë“œ íƒ€ì…, ì™€ì¼ë“œ ì¹´ë“œ)
- ì œë„¤ë¦­ ë©”ì„œë“œ ë§Œë“¤ê¸°
- Erasure

## ì œë„¤ë¦­ ì‚¬ìš©ë²•

**ì œë„¤ë¦­ :** ì»´íŒŒì¼ ì‹œì— **ë©”ì„œë“œ**ë‚˜ ì»¬ë™ì…˜ **í´ë˜ìŠ¤**ì˜ `íƒ€ì… ì²´í¬`ë¥¼ í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.

- ê°ì²´ì˜ íƒ€ì…ì„ ì»´íŒŒì¼ ì‹œì— ì²´í¬
  - `íƒ€ì… ì•ˆì •ì„± ì¦ê°€` - ì˜ë„ì¹˜ ì•Šì€ íƒ€ì…ì˜ ê°ì²´ê°€ ì €ì¥ë˜ëŠ” ê²ƒì„ ë°©ì§€.
  - `í˜•ë³€í™˜ ìƒëµ ê°€ëŠ¥` - ì €ì¥ëœ ê°ì²´ë¥¼ êº¼ë‚¼ë•Œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜ë˜ëŠ” ì‹¤ìˆ˜ë¥¼ ë°©ì§€

<br>

- íƒ€ì…ì²´í¬, í˜•ë³€í™˜ ìƒëµìœ¼ë¡œ ì½”ë“œê°€ ê°„ê²°í•´ì§„ë‹¤.
- ì œë„¤ë¦­ íƒ€ì…ì€ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œì— ì„ ì–¸ ê°€ëŠ¥.

ê°„ë‹¨íˆ ìš”ì•½í•˜ìë©´ 

ì œë„¤ë¦­ì´ ê°ì²´ì˜ íƒ€ì…ì„ ë¯¸ë¦¬ ëª…ì‹œí•´ì£¼ì–´ì„œ ë²ˆê±°ë¡œìš´ í˜•ë³€í™˜ì„ ì¤„ì—¬ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.

## ì œë„¤ë¦­ í´ë˜ìŠ¤ ìƒì„±í•˜ê¸°
í´ë˜ìŠ¤ì´ë¦„ ì˜†ì— `<T>`ë¥¼ ë¶™ì—¬ì„œ ì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

`< >`ì•ˆì—ëŠ” ì–´ë–¤ ë¬¸ìë“  ì˜¬ ìˆ˜ ìˆê³  ì—¬ëŸ¬ ë¬¸ìê°€ `,`ë¥¼ í†µí•´ êµ¬ë¶„ë˜ì–´ ì˜¬ ìˆ˜ ìˆë‹¤.

```java
class Thing<T> { // ì œë„¤ë¦­ íƒ€ì… T ì„ ì–¸
  T thing;

  void setThing(T thing) { this.thing = thing; }
  T getThing() { return thing; }
}
```

ì œë„¤ë¦­ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ìƒì„±í•  ë–„ëŠ” ì°¸ì¡°ë³€ìˆ˜ì™€ ìƒì„±ìì— íƒ€ì… `T` ëŒ€ì‹  ì‚¬ìš©ë  ì‹¤ì œ íƒ€ì…ì„ ì§€ì •í•´ ì¤˜ì•¼ í•œë‹¤.

```java
Thing<String> t = new Thing<String>();  // íƒ€ì… T ëŒ€ì‹  ì‹¤ì œ íƒ€ì…ì„ ì§€ì •
```

ìœ„ì™€ ê°™ì´ `String`ì„ ì§€ì •í•˜ë©´ `T`ì˜ ìë¦¬ì— `String` íƒ€ì…ì´ ì„ ì–¸ë˜ê²Œ ëœë‹¤.

### ì œë„¤ë¦­ ìš©ì–´

> **`Thing<T>` :** ì œë„¤ë¦­ í´ë˜ìŠ¤. <br>
> Tì˜ Thingì´ë¼ê³  ì½ëŠ”ë‹¤.

> **`T` :** íƒ€ì… ë§¤ê°œë³€ìˆ˜

> **`Thing` :** ì›ì‹œ íƒ€ì…

> **`Thing<String>` :** ì œë„¤ë¦­ íƒ€ì… í˜¸ì¶œ. <br>
> íƒ€ì… ë§¤ê°œë³€ìˆ˜ Tì— íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ê²ƒ.

> **`<String>` :** ë§¤ê°œë³€ìˆ˜í™”ëœ íƒ€ì…. ëŒ€ì…ëœ íƒ€ì…. <br>
> íƒ€ì… ë§¤ê°œë³€ìˆ˜ì— ì§€ì •ëœ íƒ€ì….

---

## ë°”ìš´ë””ë“œ íƒ€ì…

Boundedì˜ ì˜ë¯¸ëŠ” **ì œí•œ**ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.

íƒ€ì… ë§¤ê°œë³€ìˆ˜ì— ì‚¬ìš©í•  íƒ€ì…ì„ ì§€ì •í•˜ë©´ í•œ ì¢…ë¥˜ì˜ íƒ€ì…ë§Œ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•œë‹¤ëŠ” ê²ƒì„ ì•ì—ì„œ ë³´ì•˜ë‹¤.

í•˜ì§€ë§Œ íƒ€ì… ë§¤ê°œë³€ìˆ˜ì— ì‚¬ìš©í•  íƒ€ì…ì„ ì§€ì •í•˜ëŠ”ê²ƒ ë˜í•œ ì œí•œí•˜ëŠ”ê²ƒì´ í•„ìš”í•˜ë‹¤.

```java
class CookingBox<Toy> cookingBox = new CookingBox<Toy>();
cookingBox.add(new Toy()); // ìŒì‹ ìƒìì— ë™ë¬¼ì„ ë‹´ì„ ìˆ˜ ìˆë‹¤... ?
```

ì œë„¤ë¦­ íƒ€ì…ì— `extends`ë¥¼ ë„£ì–´ì„œ íŠ¹ì •íƒ€ì…ì˜ ìì†ë“¤ë§Œ ëŒ€ì…ê°€ëŠ¥í•˜ê²Œ ì œí•œí•´ì•¼í•œë‹¤.

```java
class CookingBox<T extends Food> { // Foodì˜ ìì†ë§Œ íƒ€ì…ìœ¼ë¡œ ì§€ì •ê°€ëŠ¥
  ArrayList<T> list = new ArrayList<T>();
  ...
}

CookingBox<Apple> appleBox = new CookingBox<Apple>();

CookingBox<Toy> ToyBox = new ToyBox<Toy>(); // ToyëŠ” Foodì˜ ìì†ì´ ì•„ë‹ˆì–´ì„œ ì—ëŸ¬!
```

ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì œí•œ ì‹œì—ë„ implements ëŒ€ì‹  `extends`ë¥¼ ì“´ë‹¤.

**ë‹¤ì¤‘ ë°”ìš´ë””ë“œ**

CookingBoxì— Foodì˜ ìì†ì´ë©´ì„œ Eatableì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ë§Œ Tì— ëŒ€ì…ë˜ê²Œ ì œí•œí•˜ê¸° ìœ„í•´ì„œëŠ” **`&`** ë¥¼ ì‚¬ìš©í•œë‹¤.

```java
class CookingBox<T extends Food & Eatable> { ... }
```

### ì˜ˆì œ 

```java
import java.util.ArrayList;

interface Eatable {}

class Example {
    public static void main(String[] args) {
        CookingBox<Food> cookingBox = new CookingBox<Food>();
        CookingBox<Apple> appleBox = new CookingBox<Apple>();
        CookingBox<Grape> grapeBox = new CookingBox<Grape>();
        // CookingBox<Toy> toyBox = new CookingBox<Toy>();

        cookingBox.add(new Food());
        cookingBox.add(new Apple());
        cookingBox.add(new Grape());
        appleBox.add(new Apple());

        System.out.println("cookingBox -" + cookingBox);
        System.out.println("appleBox -" + appleBox);
        System.out.println("grapeBox -" + grapeBox);
    }
}

class Food implements Eatable {
    public String toString() { return "Food"; }
}

class CookingBox<T extends Food & Eatable> extends Box<T> { }

class Apple extends Food { public String toString() { return "Apple"; }}
class Grape extends Food { public String toString() {return "Grape"; }}
class Toy { public String toString() {return "Toy"; }}

class Box<T> {
    ArrayList<T> list = new ArrayList<T>();
    void add(T item) { list.add(item); }
    T get(int i) { return list.get(i); }
    int size() { return list.size(); }
    public String toString() { return list.toString(); }
}
```

**ì¶œë ¥**
```
cookingBox -[Food, Apple, Grape]
appleBox -[Apple]
grapeBox -[]
```

## ì™€ì¼ë“œ ì¹´ë“œ - ?

**ì™€ì¼ë“œ ì¹´ë“œ ë“±ì¥ë°°ê²½**

static ë©”ì„œë“œì—ëŠ” íƒ€ì… ë§¤ê°œë³€ìˆ˜ `T`ë¥¼ ë§¤ê°œë³€ìˆ˜ì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

ë•Œë¬¸ì— static ë©”ì„œë“œì— í•œí•´ì„œëŠ” íƒ€ì… ë§¤ê°œë³€ìˆ˜ ëŒ€ì‹ , íŠ¹ì • íƒ€ì…ì„ ì§€ì •í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

ì•„ë˜ì˜ ì½”ë“œì˜ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±ë  ìˆ˜ ë°–ì— ì—†ë‹¤.

```java
static Food cookFood(CookingBox<Egg> box){ ... }
static Food cookFood(CookingBox<Cabbage> box) { ... }
```

í•˜ì§€ë§Œ **ì œë„¤ë¦­ íƒ€ì…ì´ ë‹¤ë¥¸ ê²ƒë§Œìœ¼ë¡œëŠ” ì˜¤ë²„ë¡œë”©ì´ ì„±ë¦½ë˜ì§€ ì•ŠëŠ”ë‹¤.**

ë•Œë¬¸ì— ìœ„ì˜ ì½”ë“œëŠ” ì˜ëª»ë˜ì—ˆìœ¼ë©° ì´ëŸ° ìƒí™© ë–„ë¬¸ì— ì™€ì¼ë“œì¹´ë“œê°€ ê³ ì•ˆë˜ì—ˆë‹¤.

> **`<? extends T>` :** ì™€ì¼ë“œ ì¹´ë“œì˜ **ìƒí•œ** ì œí•œ. Tì™€ ê·¸ ìì†ë“¤ë§Œ ê°€ëŠ¥.<br>
> **`<? super T>` :** ì™€ì¼ë“œ ì¹´ë“œì˜ **í•˜í•œ** ì œí•œ. Tì™€ ê·¸ ìì†ë“¤ë§Œ ê°€ëŠ¥.<br>
> **`<?>` :** ì œí•œì—†ìŒ. ëª¨ë“  íƒ€ì…ì´ ê°€ëŠ¥.

### ì™€ì¼ë“œ ì¹´ë“œ ìƒí•œ ì˜ˆì œ

```java
import java.util.ArrayList;

class Ingredients { public String toString() { return "Ingredients"; }}
class Egg extends Ingredients { public String toString() { return "Egg"; }}
class Cabbage extends Ingredients { public String toString() { return "Cabbage"; }}

class Food {
    String name;

    Food(String name) { this.name = name; }
    public String toString() { return name; }
}

class Cooker {
    // cook(CookingBox<Egg>), cook(CookingBox<Cabbage>) ê°€ ê°€ëŠ¥
    static Food cook(CookingBox<? extends Ingredients> box) {
        String tmp = "";

        for(Ingredients i : box.getList()) tmp += i + " ";
        return new Food(tmp);
    }
}

class Example {
    public static void main(String[] args) {
        CookingBox<Ingredients> cookingBox = new CookingBox<>(); // new CookingBox<Ingredients>();
        CookingBox<Egg> eggBox = new CookingBox<>();

        cookingBox.add(new Egg());
        cookingBox.add(new Cabbage());
        eggBox.add(new Egg());

        System.out.println(Cooker.cook(cookingBox));
        System.out.println(Cooker.cook(eggBox));
    }
}

class CookingBox<T extends Ingredients> extends Box<T> { }

class Box<T> {
    ArrayList<T> list = new ArrayList<T>();
    void add(T item) { list.add(item); }
    T get(int i) { return list.get(i); }
    ArrayList<T> getList() { return list; }
    int size() { return list.size(); }
    public String toString() { return list.toString(); }
}
```

**ì¶œë ¥**
```
Egg Cabbage 
Egg 
```

### ì™€ì¼ë“œ ì¹´ë“œ í•˜í•œ ì˜ˆì œ
`Collection.sort()`ë¥¼ ì‚¬ìš©í•˜ì—¬ appleBoxì™€ grapeBoxì— ë‹´ê¸´ ê³¼ì¼ì„ ë¬´ê²Œë³„ë¡œ ë‚´ë¦¼ì°¨ìˆœ, ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œ ì˜ˆì œì´ë‹¤.

`Collection.sort()` ë©”ì„œë“œì˜ ì„ ì–¸ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í•˜í•œ ì œí•œ ì™€ì¼ë“œ ì¹´ë“œë¡œ ë˜ì–´ìˆë‹¤.

```java
static <T> void sort(List<T> list, Comparator<? super T> c)
```
---

```java
import java.util.ArrayList;
import java.util.Collections;
import java.util.Comparator;

class Example {
    public static void main(String[] args) {
        FruitBox<Apple> appleBox = new FruitBox<Apple>();
        FruitBox<Grape> grapeBox = new FruitBox<Grape>();

        appleBox.add(new Apple("GreenApple", 300));
        appleBox.add(new Apple("GreenApple", 100));
        appleBox.add(new Apple("GreenApple", 200));

        grapeBox.add(new Grape("GreenGrape", 400));
        grapeBox.add(new Grape("GreenGrape", 300));
        grapeBox.add(new Grape("GreenGrape", 200));

        Collections.sort(appleBox.getList(), new AppleComp());
        Collections.sort(grapeBox.getList(), new GrapeComp());
        System.out.println(appleBox);
        System.out.println(grapeBox);
        System.out.println();
        Collections.sort(appleBox.getList(), new FruitComp());
        Collections.sort(grapeBox.getList(), new FruitComp());
        System.out.println(appleBox);
        System.out.println(grapeBox);
    }
}

class Fruit {
    String name;
    int weight;

    Fruit(String name, int weight) {
        this.name = name;
        this.weight = weight;
    }

    public String toString() { return name + "(" + weight + ")"; }
}

class Apple extends Fruit {
    Apple(String name, int weight) {
        super(name, weight);
    }
}

class Grape extends Fruit {
    Grape(String name, int weight) {
        super(name, weight);
    }
}

class AppleComp implements Comparator<Apple> {
    public int compare(Apple t1, Apple t2) {
        return t2.weight - t1.weight;
    }
}

class GrapeComp implements Comparator<Grape> {
    public int compare(Grape t1, Grape t2) {
        return t2.weight - t1.weight;
    }
}

class FruitComp implements Comparator<Fruit> {
    public int compare(Fruit t1, Fruit t2) {
        return t1.weight - t2.weight;
    }
}

class FruitBox<T extends Fruit> extends Box<T> { }

class Box<T> {
    ArrayList<T> list = new ArrayList<>();

    void add(T item) { list.add(item); }
    T get(int i) { return list.get(i); }
    ArrayList<T> getList() { return list; }
    int size() { return list.size(); }
    public String toString() { return list.toString(); }
}
```

**ì¶œë ¥**

```
[GreenApple(300), GreenApple(200), GreenApple(100)]
[GreenGrape(400), GreenGrape(300), GreenGrape(200)]

[GreenApple(100), GreenApple(200), GreenApple(300)]
[GreenGrape(200), GreenGrape(300), GreenGrape(400)]
```

## ì œë„¤ë¦­ ë©”ì„œë“œ ë§Œë“¤ê¸°
ë©”ì„œë“œ ì„ ì–¸ë¶€$($ë°˜í™˜íƒ€ì… ì•)ì—  `<T>`ë¥¼ ë¶™ì—¬ì„œ ì œë„¤ë¦­ ë©”ì„œë“œë¥¼ ìƒì„±í•œë‹¤.

static ë©”ì„œë“œì—ëŠ” íƒ€ì… ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆì§€ë§Œ ì œë„¤ë¦­ íƒ€ì…ì„ ì„ ì–¸í•œ static ë©”ì„œë“œëŠ” íƒ€ì… ë§¤ê°œë³€ìˆ˜ê°€ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

íƒ€ì… ë§¤ê°œë³€ìˆ˜ TëŠ” ë©”ì„œë“œ ë‚´ì—ì„œë§Œ ìœ íš¨í•œ ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸ê³¼ ê°™ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.

ì•ì„œ ì™€ì¼ë“œ ì¹´ë“œë¡œ ì„ ì–¸í•œ `cook()`ì„ ì œë„¤ë¦­ ë©”ì„œë“œë¡œ ë°”ê¾¸ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
```java
static Food cook(CookingBox<? extends Ingredients> box) 
```

**ì œë„¤ë¦­ ë©”ì„œë“œ**

```java
static <T extends Ingredients> Food cook(CookingBox<T> box)

// ì œë„¤ë¦­ ë©”ì„œë“œ í˜¸ì¶œ í•  ë•ŒëŠ” íƒ€ì… ë³€ìˆ˜ì— íƒ€ì…ì„ ëŒ€ì…í•´ì•¼ í•œë‹¤.
CookingBox<Ingredients> cookingBox = new CookingBox<Ingredients>();
...

System.out.println(Cooker.<Ingredients>cook(cookingBox));
```

**ë³µì¡í•œ ì œë„¤ë¦­ ë©”ì„œë“œ**

```java
public static <T extends Comparable<? super T>> void sort(List<T> list)
```

**`List<T>`** 
íƒ€ì… Të¥¼ ìš”ì†Œë¡œ í•˜ëŠ” Listë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ í—ˆìš©í•œë‹¤.

**`<T extends Comparable<? super T>>`**
TëŠ” Comparableì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ì´ì–´ì•¼ í•˜ë©° `(<T extends Comparable>)`

Të˜ëŠ” ê·¸ ì¡°ìƒì˜ íƒ€ì…ì„ ë¹„êµí•˜ëŠ” Comparableì´ì–´ì•¼ í•œë‹¤. `(Comparable<? super T>)`

## Erasure
ì»´íŒŒì¼ëŸ¬ëŠ” ì œë„¤ë¦­ íƒ€ì…ì„ í†µí•´ í˜•ë³€í™˜ì„ ë„£ì–´ì£¼ê³  ì»´íŒŒì¼ì´ ëë‚˜ë©´ ì œë„¤ë¦­ íƒ€ì…ì„ ì œê±°í•œë‹¤.

ë•Œë¬¸ì— í´ë˜ìŠ¤íŒŒì¼ $($.class)ì—ëŠ” ì œë„¤ë¦­ íƒ€ì… ì •ë³´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.

**1. ì œë„¤ë¦­ íƒ€ì…ì˜ ê²½ê³„ë¥¼ ì œê±°**
 íƒ€ì… ë§¤ê°œë³€ìˆ˜Të¥¼ ì œê±°í•˜ê³  ê·¸ ìë¦¬ë¥¼ ì œí•œí•˜ê³  ìˆëŠ” íƒ€ì…ìœ¼ë¡œ ë³€ê²½.

- `<T extends Fruit>` -> Të¥¼ Fruitìœ¼ë¡œ ì¹˜í™˜.

- `<T>` -> Objectë¡œ ì¹˜í™˜.

```java
class Box<T extends Fruit> {
  void add(T t) {
    ...
  }
}
```

ê°€ ì•„ë˜ì™€ ê°™ì´ ì¹˜í™˜.

```java
class Box {
  void add(Fruit t) {
    ...
  }
}
```

**2. ì œë„¤ë¦­ íƒ€ì…ì„ ì œê±°í•œ í›„ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ í˜•ë³€í™˜ ì¶”ê°€.**

```java
T get(int i) {
  return list.get(i);
}
```

ê°€ ì•„ë˜ì™€ ê°™ì´ ì¹˜í™˜.

```java
Fruit get(int i) {
  return (Fruit)list.get(i);
}
```

Listì˜ `get()`ì€ Object íƒ€ì…ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— í˜•ë³€í™˜ì´ í•„ìš”í•˜ë‹¤.

---

> ì°¸ì¡° <br>
> Javaì˜ ì •ì„ $($ë‚¨ê¶ ì„±) <br>
> [whiteship ìë°” ë¼ì´ë¸Œ ìŠ¤í„°ë””](https://github.com/whiteship/live-study)